<h2>Organiser Labeler</h2>
<select id="state"></select>
<button id="rename">Set State</button>
<script>
  const options = [
    {
      label: "Done",
      marker: "ğŸŸ¢",
    },
    {
      label: "To Do",
      marker: "âšªï¸",
    },
    {
      label: "In Progress",
      marker: "ğŸŸ¡",
    },
  ];

  options.map((option) => {
    const elem = document.createElement("option");
    elem.text = `${option.marker} ${option.label}`;
    elem.value = option.label;
    document.getElementById("state").appendChild(elem);
  });

  document.getElementById("rename").onclick = () => {
    const name = document.getElementById("state").value;
    const state = options.filter((_state) => _state.label === name);
    parent.postMessage({ pluginMessage: { fn: "setTitle", state } }, "*");
  };
</script>
